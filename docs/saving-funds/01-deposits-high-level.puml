@startuml
title Save Fund (SF) â€“ High-Level Sequence

actor User
participant "Frontend\n(SF UI)" as FE
participant "TLD App /\nIn-App Wallet" as Wallet
participant "SF Vault\n(Smart Contract)" as Vault
database Subgraph as SG

== User deposits into SF ==

User -> FE: Open SF Dashboard
FE -> SG: Query TVL, APY, user history
SG --> FE: TVL, APY, history
FE -> Vault: (optional) Read user balance / vault TVL
Vault --> FE: Current balances

User -> FE: Enter deposit amount\nClick "Deposit"
FE -> Wallet: Build tx for Vault.deposit(amount)
Wallet -> Vault: deposit(amount USDC)
Vault --> Wallet: Tx receipt (on success)
Vault -> Vault: Update shares, totalAssets
Vault -> SG: Emit Deposit event\n(indexed by Subgraph)

FE <- Wallet: Tx success / failure
FE -> SG: Refresh user history, TVL, APY
SG --> FE: Updated data
FE -> User: Updated SF Dashboard

@enduml
